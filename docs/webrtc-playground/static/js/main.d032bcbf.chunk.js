(window["webpackJsonpwebrtc-playground"]=window["webpackJsonpwebrtc-playground"]||[]).push([[0],{36:function(e,t,n){e.exports=n(78)},67:function(e,t){},69:function(e,t){},78:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"ESTEP",function(){return f}),n.d(a,"ECLIENT_MODE",function(){return E}),n.d(a,"EACTION",function(){return O});var r=n(0),c=n.n(r),o=n(34),s=n.n(o);n(41);function i(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"content has-text-centered"},c.a.createElement("span",null,"v1.0.3 - 2020-09-04T11:09:55.252Z"),c.a.createElement("p",null,"author ",c.a.createElement("strong",null,"TTin"))))}var l=n(1),u=n(6),m=n(4),d=n(17),p=n.n(d),f=(n(42),n(43),{CHOICE_MODE:"CHOICE_MODE",NOT_CONNECT:"NOT_CONNECT",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED",DISCONNECT:"DISCONNECT"}),E={HOST:"HOST",PEER:"PEER"},O={reset:"reset",setAppStep:"setAppStep",setRoomId:"setRoomId",setAppMode:"setAppMode",setMineMedia:"setMineMedia",updateConenction:"updateConenction",updateWebRTCSupport:"updateWebRTCSupport"},v=n(8),b=n(9),g=n(14),h=n(13),N=n(15),j=n(18),C=n.n(j);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var S=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(g.a)(this,Object(h.a)(t).call(this)))._addSendSignalLog=function(e){var t={from:n.mode,data:e,_t:new Date};n.signalLogs.push(t),n.emit("signalLog",t)},n._addReceiveSignalLog=function(e){var a={from:n.mode===t.MODE.HOST?t.MODE.PEER:t.MODE.HOST,data:e,_t:new Date};n.signalLogs.push(a),n.emit("signalLog",a)},n._onNewSignal=function(e){n._addSendSignalLog(e);var a=n.mode===t.MODE.HOST?t.MODE.PEER:t.MODE.HOST;n.signalChannel.send(a,e)},n._onChannelMessage=function(e){n._addReceiveSignalLog(e),n.peer.signal(e)},n._eventForward=function(e){return function(t){n.emit(e,t)}},n.signalChannel=e,n.reset(),n}return Object(N.a)(t,e),Object(b.a)(t,[{key:"reset",value:function(){this.signalChannel.disconnect(),this.unsubcrible(),this.peer&&this.peer.destroy(),this.peer=null,this.mode=null,this.signalLogs=[]}},{key:"start",value:function(e){var n=e.mode,a=e.simplePeerConfig,r=void 0===a?{}:a,c=e.signalRoom;this.mode=n,this.peer=new C.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({initiator:this.mode===t.MODE.HOST},r)),this.signalChannel.connect({signalRoom:c,mode:n}),this.subcrible()}},{key:"subcrible",value:function(){var e=this;this.peer.on("signal",this._onNewSignal),this.signalChannel.on("message",this._onChannelMessage);["error","connect","data","close","stream"].forEach(function(t){var n="$on".concat(t);e[n]=e._eventForward(t),e.peer.on(t,e[n])})}},{key:"unsubcrible",value:function(){var e=this;if(this.peer){this.signalChannel.off("message",this._onChannelMessage),this.signalChannel.disconnect(),this.peer.off("signal",this._onNewSignal);["error","connect","data","close","stream"].forEach(function(t){var n="$on".concat(t);e.peer.off(t,e[n])})}}},{key:"getPeerStats",value:function(){var e=this;return new Promise(function(t,n){if(!e.peer)return null;e.peer.getStats(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t(n)})})}},{key:"send",value:function(e){if(!this.peer)return null;this.peer.send(e)}}]),t}(m.EventEmitter);S.MODE={HOST:"HOST",PEER:"PEER"};var w=S,T=n(2),P=n.n(T),k=n(5),I=(m.EventEmitter,n(4).EventEmitter),R=window.WebSocket,D=function(){function e(){Object(v.a)(this,e),this.reset()}return Object(b.a)(e,[{key:"reset",value:function(){var e=this;this.promise=new Promise(function(t,n){e.reject=n,e.resolve=t})}}]),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=new(function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(g.a)(this,Object(h.a)(t).call(this)))._initFunc(),n.url=e,n.reset(),n}return Object(N.a)(t,e),Object(b.a)(t,[{key:"reset",value:function(){this.unsubcrible(),this.ws=null,this.connectedPromise=new D,this.roomReadyPromise=new D,this.isAllive=!1}},{key:"connect",value:function(){var e=Object(k.a)(P.a.mark(function e(t){var n,a=this;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signalRoom,t.mode,this.signalRoom=n,this.ws=new R(this.url),this.ws.addEventListener("open",Object(k.a)(P.a.mark(function e(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.isAllive=!0,e.next=3,a._doJoinRoom();case 3:a.connectedPromise.resolve();case 4:case"end":return e.stop()}},e)}))),this.ws.addEventListener("message",function(e){a._onMessage(JSON.parse(e.data))}),this.ws.addEventListener("close",function(e){console.log("closed"),a.reset()}),e.abrupt("return",this.connectedPromise.promise);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){this.ws&&this.isAllive&&this.ws.close(),this.reset()}},{key:"send",value:function(e,t){var n=this;if(!this.signalRoom)throw new Error("call connect(..) first");return this.roomReadyPromise.promise.then(function(){n.ws.send(JSON.stringify({jsonrpc:"2.0",id:Date.now().toString(),method:"send",params:{roomId:n.signalRoom,data:JSON.stringify(t)}}))})}},{key:"unsubcrible",value:function(){}},{key:"_doJoinRoom",value:function(){this.ws.send(JSON.stringify({jsonrpc:"2.0",id:Date.now().toString(),method:"join",params:{roomId:this.signalRoom}}))}},{key:"_initFunc",value:function(){var e=this;this._onMessage=function(t){var n=t||{},a=n.method,r=n.params,c=void 0===r?{}:r;"room-info"===a?c.isReady&&e.roomReadyPromise.resolve():"connection-info"===a?e._peerId=c.id:"peer-info"===a&&e.emit("message",JSON.parse(c.data)),console.log(e._peerId,n)}}}]),t}(I))("wss://secret-headland-20594.herokuapp.com"),A={supportWebRTC:!1,appStep:f.CHOICE_MODE,roomId:"room-".concat(Date.now()),mode:"",mineMedia:null,connection:new w(_),eventSource:new m.EventEmitter},L=function(e){return function(t,n){var a=e(t,n);return window.store=a,a}}(function(e,t){switch(console.log("action",t),t.type){case O.reset:var n=e.mineMedia,a=e.connection;return n&&n.getTracks().forEach(function(e){return e.stop()}),a&&a.reset(),M({},A,{eventSource:new m.EventEmitter,supportWebRTC:p.a.isWebRTCSupported});case O.updateWebRTCSupport:return M({},e,{supportWebRTC:t.value});case O.setAppMode:return M({},e,{mode:t.value});case O.setRoomId:return M({},e,{roomId:t.value});case O.setAppStep:return M({},e,{appStep:t.value});case O.setMineMedia:return M({},e,{mineMedia:t.value});case O.updateConenction:return M({},e,{connection:t.value});default:return e}}),H=Object(r.createContext)(),W=function(e){var t=e.children;return c.a.createElement(H.Provider,{value:Object(r.useReducer)(L,A)},t)},J=function(){return Object(r.useContext)(H)},F=a,z=function(e){var t=e.expectedAppStep,n=e.children,a=J(),r=Object(l.a)(a,1)[0].appStep,o=Array.isArray(t)?t:[t];return c.a.createElement(c.a.Fragment,null,o.includes(r)?n:null)},U=function(e){e.defaultIndex,e.tabs;var t=J(),n=Object(l.a)(t,2),a=n[0],o=a.appStep,s=a.mode,i=a.roomId,u=a.connection,m=n[1];Object(r.useEffect)(function(){var e=function(){m({type:F.EACTION.reset})};return window.addEventListener("beforeunload",e,!1),function(){window.removeEventListener("beforeunload",e)}},[m,u]);var d=Object(r.useCallback)(function(e){m({type:F.EACTION.setAppMode,value:e}),m({type:F.EACTION.setAppStep,value:F.ESTEP.NOT_CONNECT})},[m]),p=Object(r.useCallback)(function(){u&&u.destroy&&u.destroy(),m({type:F.EACTION.reset})},[m,u]),f=Object(r.useCallback)(function(e){m({type:F.EACTION.setRoomId,value:e})},[m]),E=o===F.ESTEP.CHOICE_MODE?{disabled:!1}:{disabled:!0};return c.a.createElement("div",{className:"columns is-multiline is-centered"},c.a.createElement("div",{className:"column is-6"},c.a.createElement("fieldset",E,c.a.createElement("input",{className:"input is-rounded",type:"text",value:i,onChange:function(e){return f(e.target.value)},placeholder:"Room Id"}))),c.a.createElement("div",{className:"column is-full"},c.a.createElement("fieldset",E,c.a.createElement("div",{className:"field is-grouped is-grouped-centered"},c.a.createElement("label",{className:"radio"},c.a.createElement("input",{type:"radio",checked:s===F.ECLIENT_MODE.HOST,onChange:function(e){return d(F.ECLIENT_MODE.HOST)}}),c.a.createElement("span",{style:{margin:5}},"Host")),c.a.createElement("label",{className:"radio"},c.a.createElement("input",{type:"radio",checked:s===F.ECLIENT_MODE.PEER,onChange:function(e){return d(F.ECLIENT_MODE.PEER)}}),c.a.createElement("span",{style:{margin:5}},"Peer"))))),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"field is-grouped is-grouped-centered"},c.a.createElement(z,{expectedAppStep:[F.ESTEP.CONNECTED,F.ESTEP.DISCONNECT,F.ESTEP.NOT_CONNECT]},c.a.createElement("button",{className:"button is-warning",onClick:p},"Reset")))))},G=function(e){var t=e.onChange,n=Object(r.useState)('{\n    "trickle": true,\n    "config": {\n      "iceServers": [ { "urls": "stun:stun.l.google.com:19302" }, { "urls": "stun:global.stun.twilio.com:3478?transport=udp" }, { "urls": "turn:numb.viagenie.ca", "username": "ilu20009@gmail.com", "credential":"Abc12345" } ]\n    }\n  }'),a=Object(l.a)(n,2),o=a[0],s=a[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),m=u[0],d=u[1];return Object(r.useEffect)(function(){t&&t(JSON.parse(o))},[]),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"},"STUN/TURN config"," ",c.a.createElement("span",{className:["icon",m?"has-text-success":"has-text-danger"].join(" ")},c.a.createElement("i",{className:["fas",m?"fa-check":"fa-ban"].join(" ")}))),c.a.createElement("div",{className:["control"].join(" ")},c.a.createElement("textarea",{className:["textarea","is-small"].join(" "),defaultValue:o,onChange:function(e){try{s(e.target.value);var n=JSON.parse(e.target.value);t&&t(n),d(!0)}catch(a){d(!1)}}})))};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var $=function(e){var t=J(),n=Object(l.a)(t,2),a=n[0],o=a.roomId,s=a.mode,i=a.connection,m=a.appStep,d=n[1],p=Object(r.useReducer)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t)},{}),f=Object(l.a)(p,2),E=f[0],O=f[1],v=Object(r.useCallback)(function(e){O(e)},[O]),b=Object(r.useCallback)(function(){console.log("Create peer with",E),i.start({mode:s,simplePeerConfig:E,signalRoom:o}),d({type:F.EACTION.setAppStep,value:F.ESTEP.CONNECTING})},[i,E,s,o,d]),g=m===F.ESTEP.NOT_CONNECT;return c.a.createElement("fieldset",{disabled:!g},c.a.createElement(G,{onChange:v}),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"field"},c.a.createElement("button",{className:"button is-primary",onClick:b},"Start"))))};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var K=function(e){var t=J(),n=Object(l.a)(t,2),a=n[0],o=a.roomId,s=a.mode,i=a.connection,m=a.appStep,d=n[1],p=Object(r.useReducer)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t)},{}),f=Object(l.a)(p,2),E=f[0],O=f[1],v=Object(r.useCallback)(function(e){O(e)},[O]),b=Object(r.useCallback)(function(){console.log("Create peer with",E),i.start({mode:s,simplePeerConfig:E,signalRoom:o}),d({type:F.EACTION.setAppStep,value:F.ESTEP.CONNECTING})},[i,E,s,o,d]),g=m===F.ESTEP.NOT_CONNECT;return c.a.createElement("fieldset",{disabled:!g},c.a.createElement(G,{onChange:v}),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"field"},c.a.createElement("button",{className:"button is-primary",onClick:b},"Start"))))},V={connecting:"is-link",connected:"is-primary",error:"is-danger",disconnected:"is-warning"},Z=function(e){e.defaultIndex,e.tabs;var t=J(),n=Object(l.a)(t,2),a=n[0].connection,o=n[1],s=Object(r.useState)("connecting"),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)({}),p=Object(l.a)(d,2),f=p[0],E=p[1];return Object(r.useEffect)(function(){var e=function(e){return m(e)};a.on("connect",function(t){e("connected"),setTimeout(function(){var e=a.peer,t=e.localAddress,n=void 0===t?"":t,r=e.localFamily,c=void 0===r?"":r,s=e.localPort,i=void 0===s?"":s,l=e.remoteAddress,u=void 0===l?"":l,m=e.remoteFamily,d=void 0===m?"":m,p=e.remotePort,f=void 0===p?"":p;E({local:"".concat(c," - ").concat(n,":").concat(i),remote:"".concat(d," - ").concat(u,":").concat(f)}),o({type:F.EACTION.setAppStep,value:F.ESTEP.CONNECTED})},1e3)}),a.on("close",function(t){a.reset(),e("disconnected"),E({}),o({type:F.EACTION.setAppStep,value:F.ESTEP.DISCONNECT})}),a.on("error",function(t){return e("error")})},[a,E,o]),c.a.createElement("article",{className:["message",V[u]].join(" ")},c.a.createElement("div",{className:"message-body"},c.a.createElement("p",{className:"is-capitalized"},u),c.a.createElement("p",{className:"is-size-7 is-italic\t"},"Local: ",f.local&&"".concat(f.local)),c.a.createElement("p",{className:"is-size-7 is-italic\t"},"Remote: ",f.remote&&"".concat(f.remote))))},q=n(22),Q=n(35);function X(e){var t=e.from,n=e.data;return{_time:e._t,title:"[SIGNAL] ".concat(t),content:"".concat(JSON.stringify(n))}}var ee=function(e){e.defaultIndex,e.tabs;var t=J(),n=Object(l.a)(t,1)[0],a=n.connection,o=n.eventSource,s=Object(r.useState)(a.signalLogs.map(function(e){return X(e)})),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)([]),p=Object(l.a)(d,2),f=p[0],E=p[1];return Object(r.useEffect)(function(){var e=setInterval(Object(k.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getPeerStats();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:t=e.t0,E(t.reverse().map(function(e){return{type:e.type,id:e.id,timestamp:e.timestamp,others:Object(Q.a)(e,["type","id","timestamp"])}})),e.next=12;break;case 10:e.prev=10,e.t1=e.catch(0);case 12:case"end":return e.stop()}},e,null,[[0,10]])})),1e3);return function(){return clearInterval(e)}},[a]),Object(r.useEffect)(function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){m([{_time:new Date,title:t,content:e}].concat(Object(q.a)(u)))}},t=function(e){m([X(e)].concat(Object(q.a)(u)))},n=e("connected"),r=e("error"),c=e("disconnected"),s=function(t){return e("Send -> ".concat(t))()},i=function(t){return e("Recv -> ".concat(t))()};return a.on("connect",n),a.on("error",r),a.on("data",i),a.on("close",c),a.on("signalLog",t),o.on("action-send-text",s),function(){a.off("connect",n),a.off("error",r),a.off("data",i),a.off("close",c),a.off("signalLog",t),o.off("action-send-text",s)}},[u,m,a,o]),c.a.createElement("div",{className:"column is-full"},c.a.createElement("h3",null,"RTC Status Logs - ",f.length),c.a.createElement("div",{className:"container has-background-white-bis is-size-7",style:{minHeight:"50vh",maxHeight:"50vh",overflowY:"auto",padding:"5px 10px"}},f.map(function(e,t){var n=e.type,a=e.id,r=(e.timestamp,e.others);return c.a.createElement("div",{className:"content",key:a},c.a.createElement("p",null,t,") Type: ",c.a.createElement("strong",null,String(n))," - Id: ",String(a)),c.a.createElement("ul",null,Object.keys(r).map(function(e,t){return c.a.createElement("li",{key:t},String(e),": ",String(r[e]))})))})),c.a.createElement("hr",null),c.a.createElement("div",{className:"container has-background-grey-lighter is-size-7",style:{minHeight:"50vh",maxHeight:"50vh",overflowY:"auto",padding:"5px 10px"}},u.map(function(e,t){var n=e.content,a=e.title,r=void 0===a?"":a,o=e._time;return c.a.createElement("div",{className:"content",key:t},c.a.createElement("p",null,"- ",o.toISOString()," ",c.a.createElement("strong",null,String(r))," -"," ",c.a.createElement("small",null,String(n))))})))},te=function(e){e.defaultIndex,e.tabs;var t=J(),n=Object(l.a)(t,1)[0],a=n.eventSource,o=n.connection,s=n.appStep,i=Object(r.useState)([]),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(r.useCallback)(function(e){return d(e)},[d]),f=Object(r.useCallback)(function(){o.send(m),a.emit("action-send-text",m),p("")},[m,o,a,p]),E=s===F.ESTEP.CONNECTED;return c.a.createElement("fieldset",{disabled:!E},c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-11"},c.a.createElement("input",{className:"input",type:"text",placeholder:"message to send",value:m,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){e||(e=window.event);var t=e.keyCode||e.which;if("13"===String(t))return f(e.target.value),!1}})),c.a.createElement("div",{className:"column"},c.a.createElement("button",{className:"button is-info",onClick:f},"Send"))))},ne=n(19),ae=function(e){var t=e.stream,n=Object(r.useRef)(null);return Object(r.useEffect)(function(){if(n.current&&t){var e=n.current;"srcObject"in e?e.srcObject=t:e.src=window.URL.createObjectURL(t)}},[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement("video",{ref:n,controls:!0,autoPlay:!0,playsInline:!0}))},re={video:{width:320}},ce=function(e){var t=J(),n=Object(l.a)(t,2),a=n[0],o=a.mineMedia,s=a.connection,i=a.appStep,u=n[1],m=Object(r.useState)(null),d=Object(l.a)(m,2),p=d[0],f=d[1];Object(r.useEffect)(function(){if(s){var e=function(e){Object(ne.toast)({message:"video stream recived",type:"is-info",animate:{in:"fadeIn",out:"fadeOut"}}),f(e)};return s.on("stream",e),function(){s.off("stream",e)}}},[s,f]);var E=Object(r.useCallback)(Object(k.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){console.log("got media",e),s.peer.addStream(e),u({type:F.EACTION.setMineMedia,value:e})},navigator){e.next=3;break}return e.abrupt("return",Object(ne.toast)({message:"error - navigator not support",type:"is-error",animate:{in:"fadeIn",out:"fadeOut"}}));case 3:return e.prev=3,e.next=6,navigator.mediaDevices.getUserMedia(re);case 6:n=e.sent,t(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Object(ne.toast)({message:"error - ".concat(e.t0.message),type:"is-error",animate:{in:"fadeIn",out:"fadeOut"}});case 13:case"end":return e.stop()}},e,null,[[3,10]])})),[u,s.peer]),O=i===F.ESTEP.CONNECTED;return c.a.createElement("fieldset",{disabled:!O},c.a.createElement("div",{className:"columns is-multiline is-centered"},c.a.createElement("div",{className:"column is-full"},c.a.createElement("fieldset",null,c.a.createElement("div",{className:"field is-grouped is-grouped-centered"},c.a.createElement("button",{className:"button is-success",onClick:E},"With Media")))),c.a.createElement("hr",null),c.a.createElement("div",{className:"column is-12"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-6"},c.a.createElement("p",null,"Me"),c.a.createElement(ae,{stream:o})),c.a.createElement("div",{className:"column is-6"},c.a.createElement("p",null,"Other"),c.a.createElement(ae,{stream:p}))))))},oe=function(e){e.expectedMode;var t=e.children,n=J(),a=Object(l.a)(n,2),o=a[0].supportWebRTC,s=a[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),m=u[0],d=u[1];return Object(r.useEffect)(function(){p.a.load(function(){s({type:F.EACTION.updateWebRTCSupport,value:p.a.isWebRTCSupported}),d(!1)})},[s]),c.a.createElement(c.a.Fragment,null,m?null:o&&C.a.WEBRTC_SUPPORT?t:c.a.createElement("article",{class:"message is-danger"},c.a.createElement("div",{class:"message-body"},"Browser don't support WebRTC")))},se=function(e){var t=e.expectedMode,n=e.children,a=J(),r=Object(l.a)(a,1)[0].mode;return c.a.createElement(c.a.Fragment,null,t===r?n:null)};var ie=function(){return c.a.createElement(W,null,c.a.createElement("section",{className:"section "},c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"hero"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"title"},"Web RTC Playground")))),c.a.createElement(oe,null,c.a.createElement("p",{className:"has-text-centered is-size-3"},"Start here !"),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"box"},c.a.createElement(U,null))),c.a.createElement(se,{expectedMode:F.ECLIENT_MODE.HOST},c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"box"},c.a.createElement($,null)))),c.a.createElement(se,{expectedMode:F.ECLIENT_MODE.PEER},c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"box"},c.a.createElement(K,null)))),c.a.createElement("div",{className:"column"},c.a.createElement(Z,null)),c.a.createElement("div",{className:"column is-multiline"},c.a.createElement("div",{className:"box"},c.a.createElement(ee,null)),c.a.createElement("div",{className:"box"},c.a.createElement(te,null)),c.a.createElement("div",{className:"box"},c.a.createElement(ce,null)))))),c.a.createElement(i,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.d032bcbf.chunk.js.map